*{margin:0;padding:0;box-sizing:border-box}:root{--color-primary: #00d4ff;--color-secondary: #ff6b6b;--color-accent: #ffd93d;--color-bg-main: #0a0e27;--color-bg-panel: #1a1f3a;--color-bg-panel-hover: #242b4a;--color-text-primary: #e8eaed;--color-text-secondary: #9aa0b8;--color-border: #2d3550;--color-success: #6bcf7f;--color-danger: #ff6b6b;--color-warning: #ffd93d;--font-display: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--font-mono: "JetBrains Mono", "Courier New", monospace;--font-body: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--space-xs: 4px;--space-sm: 8px;--space-md: 16px;--space-lg: 24px;--space-xl: 32px;--shadow-sm: 0 2px 8px rgba(0, 0, 0, .3);--shadow-md: 0 4px 16px rgba(0, 0, 0, .4);--shadow-lg: 0 8px 32px rgba(0, 0, 0, .5);--radius-sm: 6px;--radius-md: 12px;--radius-lg: 16px}[data-theme=light]{--color-primary: #667eea;--color-secondary: #ff6b6b;--color-accent: #f39c12;--color-bg-main: #f0f2f5;--color-bg-panel: #ffffff;--color-bg-panel-hover: #f8f9fa;--color-text-primary: #1a1a1a;--color-text-secondary: #666666;--color-border: #e0e0e0;--color-success: #27ae60;--color-danger: #e74c3c;--color-warning: #f39c12}body{font-family:var(--font-body);background:radial-gradient(ellipse at top,#1a2332 0%,var(--color-bg-main) 100%);background-attachment:fixed;min-height:100vh;padding:var(--space-lg);color:var(--color-text-primary)}.container{max-width:1400px;margin:0 auto;background:var(--color-bg-panel);border:1px solid var(--color-border);border-radius:var(--radius-lg);padding:var(--space-lg);box-shadow:var(--shadow-lg);transition:background-color .3s ease,border-color .3s ease}.main-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.full-width{grid-column:1 / -1}h1{text-align:center;font-family:var(--font-display);font-weight:700;color:var(--color-primary);margin-bottom:24px;font-size:2.5rem;letter-spacing:-.02em}h2,h3{font-family:var(--font-display);font-weight:600;color:var(--color-text-primary)}.panel{background:var(--color-bg-panel);border:1px solid var(--color-border);border-radius:var(--radius-md);padding:var(--space-lg);box-shadow:var(--shadow-md);transition:all .3s ease}.panel:hover{background:var(--color-bg-panel-hover);box-shadow:var(--shadow-lg)}.panel h2{font-size:18px;margin-bottom:12px;color:var(--color-primary)}input,select{font-family:var(--font-body);background:var(--color-bg-main);color:var(--color-text-primary);border:1px solid var(--color-border);padding:var(--space-sm);border-radius:var(--radius-sm);transition:all .2s ease}input:focus,select:focus{border-color:var(--color-primary);outline:none;box-shadow:0 0 0 2px #00d4ff33}label{font-size:12px;color:var(--color-text-secondary)}button{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;box-shadow:0 2px 4px #0000001a}button:disabled{opacity:.5;cursor:not-allowed;transform:none}@media (max-width: 900px){.main-grid{grid-template-columns:1fr}h1{font-size:24px}}@media (max-width: 600px){.container,.panel{padding:12px}h1{font-size:20px;margin-bottom:16px}h2{font-size:16px}button{width:100%}}#cartpole-canvas{width:100%;height:350px;background:linear-gradient(to bottom,rgba(227,242,253,.5) 0%,var(--color-bg-main) 100%);border-radius:8px;border:2px solid var(--color-border);display:block;transition:border-color .3s ease,background .3s ease}#network-svg{width:100%;height:400px;background:var(--color-bg-main);border-radius:8px;border:2px solid var(--color-border);display:block;transition:border-color .3s ease,background .3s ease}#training-chart,#training-loss-chart{width:100%;height:200px;background:var(--color-bg-main);border-radius:8px;border:2px solid var(--color-border);transition:border-color .3s ease,background .3s ease}#state-space-heatmap{width:100%;height:250px;background:var(--color-bg-main);border-radius:8px;border:2px solid var(--color-border);transition:border-color .3s ease,background .3s ease}.theme-toggle{background:var(--color-bg-panel);border:2px solid var(--color-border);color:var(--color-text-primary);cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.theme-toggle:hover{background:var(--color-bg-panel-hover);border-color:var(--color-primary);transform:scale(1.1)}.theme-toggle:active{transform:scale(.95)}button.primary{background:var(--color-primary);color:var(--color-bg-main);font-weight:600}button.primary:hover{background:linear-gradient(135deg,var(--color-primary),#00a8cc);transform:translateY(-2px)}button.success{background:var(--color-success);color:#fff;font-weight:600}button.success:hover{background:linear-gradient(135deg,var(--color-success),#5cb85c);transform:translateY(-2px)}button.danger{background:var(--color-danger);color:#fff;font-weight:600}button.danger:hover{background:linear-gradient(135deg,var(--color-danger),#da3c2c);transform:translateY(-2px)}button.secondary{background:var(--color-text-secondary);color:#fff;font-weight:600}button.secondary:hover{background:linear-gradient(135deg,var(--color-text-secondary),#7b8699);transform:translateY(-2px)}.controls{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}.metrics{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px}.metric{background:var(--color-bg-panel);border:1px solid var(--color-border);padding:12px;border-radius:8px;text-align:center;box-shadow:var(--shadow-sm);transition:all .3s ease}.metric:hover{background:var(--color-bg-panel-hover);box-shadow:var(--shadow-md)}.metric-label{font-size:12px;color:var(--color-text-secondary);margin-bottom:4px;text-transform:uppercase;letter-spacing:.5px}.metric-value{font-size:24px;font-weight:700;color:var(--color-primary);font-family:var(--font-mono)}.settings{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-top:12px}.setting{display:flex;flex-direction:column;gap:4px}.setting label{font-size:12px;color:var(--color-text-secondary);font-weight:600}.setting input{padding:8px;border:1px solid var(--color-border);border-radius:4px;font-size:14px;background:var(--color-bg-main);color:var(--color-text-primary)}.log-container{position:relative;margin-top:12px}.log{background:#1e1e1e;color:#0f0;padding:12px;border-radius:8px;font-family:Courier New,monospace;font-size:12px;max-height:150px;overflow-y:auto}.log-entry{margin-bottom:4px}.copy-logs-btn{position:absolute;top:4px;right:4px;padding:4px 8px;background:#0f0;color:#1e1e1e;border:none;border-radius:4px;font-size:11px;font-weight:700;cursor:pointer;z-index:10;transition:all .2s ease}.copy-logs-btn:hover{background:#3f3;transform:scale(1.05)}.copy-logs-btn:active{transform:scale(.95)}.action-bars{display:flex;gap:20px;margin-top:16px;height:70px;max-width:500px}.action-bar{flex:1;background:var(--color-bg-main);border-radius:8px;position:relative;overflow:hidden;border:2px solid var(--color-border)}.action-bar-fill{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,var(--color-primary),#00a8cc);transform-origin:bottom}.action-bar-label{position:absolute;top:8px;left:0;right:0;text-align:center;font-weight:700;font-size:12px;color:var(--color-text-primary);z-index:1}.action-bar-value{position:absolute;bottom:8px;left:0;right:0;text-align:center;font-weight:700;font-size:16px;color:#fff;z-index:1;text-shadow:0 1px 2px rgba(0,0,0,.5)}.slider-control{display:flex;align-items:center;gap:12px}.slider-control input[type=range]{flex:1;height:6px;border-radius:3px;background:var(--color-border);outline:none;-webkit-appearance:none}.slider-control input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:18px;height:18px;border-radius:50%;background:var(--color-primary);cursor:pointer;box-shadow:0 2px 4px #0003}.slider-control input[type=range]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--color-primary);cursor:pointer;border:none;box-shadow:0 2px 4px #0003}.slider-control label{min-width:120px;font-size:13px;font-weight:600;color:var(--color-text-secondary)}.slider-control span{min-width:50px;text-align:right;font-weight:700;color:var(--color-primary)}.training-stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:12px;margin-top:16px;max-width:100%}.training-stat{background:var(--color-bg-panel);border:1px solid var(--color-border);padding:8px;border-radius:6px;text-align:center;font-size:11px}.training-stat-value{font-size:16px;font-weight:700;color:var(--color-primary);margin-top:4px}.mode-indicator{display:inline-block;padding:4px 12px;border-radius:12px;font-size:11px;font-weight:700;margin-left:8px}.mode-training{background:#4caf50;color:#fff}.mode-testing{background:#ff9800;color:#fff}.mode-manual{background:#2196f3;color:#fff}.keyboard-hint{background:#ffd33d33;border:1px solid var(--color-warning);padding:8px 12px;border-radius:6px;margin-top:8px;font-size:12px;text-align:center;color:var(--color-warning)}.touch-controls{display:flex;gap:12px;margin-top:12px;justify-content:center}.touch-btn{flex:1;padding:16px;font-size:16px;font-weight:700;border:none;border-radius:8px;background:#667eea;color:#fff;cursor:pointer;transition:all .2s;box-shadow:0 2px 4px #0003;max-width:200px}.touch-btn:active{background:#5567d8;box-shadow:0 1px 2px #0003;transform:scale(.98)}.feature-panel{background:var(--color-bg-panel);border:1px solid var(--color-border);padding:12px;border-radius:8px;margin-top:12px;box-shadow:var(--shadow-sm)}.feature-panel h3{margin:0 0 10px;font-size:13px;font-weight:700;color:var(--color-text-primary);text-transform:uppercase;letter-spacing:.5px}.feature-buttons{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}.feature-btn{padding:8px 12px;border:1px solid var(--color-border);background:var(--color-bg-main);color:var(--color-text-primary);border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;transition:all .2s ease}.preset-btn{grid-column:span 1}.shortcuts-legend{display:grid;grid-template-columns:repeat(2,1fr);gap:8px;font-size:12px}.shortcut-row{display:flex;align-items:center;gap:8px;padding:6px;background:var(--color-bg-main);border-radius:4px;border:1px solid var(--color-border)}.shortcut-row kbd{background:var(--color-text-secondary);color:var(--color-bg-panel);padding:2px 6px;border-radius:3px;font-family:monospace;font-size:11px;font-weight:700;min-width:40px;text-align:center;display:inline-block;border:1px solid var(--color-border);box-shadow:0 1px 2px #0003}.shortcut-row span{color:var(--color-text-secondary);flex:1}.state-bars{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-top:12px}.state-bar-container{background:var(--color-bg-panel);border:1px solid var(--color-border);padding:12px;border-radius:8px;box-shadow:var(--shadow-sm);position:relative}.state-bar-label{font-size:11px;font-weight:700;color:var(--color-text-secondary);margin-bottom:6px;display:flex;justify-content:space-between;align-items:center}.state-bar-value{font-size:14px;color:var(--color-primary);font-weight:700}.state-bar-track{height:24px;background:var(--color-bg-main);border-radius:12px;position:relative;overflow:hidden;border:1px solid var(--color-border)}.state-bar-fill{position:absolute;height:100%;background:linear-gradient(90deg,var(--color-primary),#00a8cc);border-radius:12px}.state-bar-center{position:absolute;left:50%;top:0;bottom:0;width:2px;background:var(--color-text-secondary);z-index:1}.state-importance{display:inline-block;font-size:10px;padding:2px 6px;border-radius:10px;background:#e0e0e0;color:#666}.state-importance.high{background:#ff5722;color:#fff}.state-importance.medium{background:#ff9800;color:#fff}.state-importance.low{background:#4caf50;color:#fff}.network-perception{background:var(--color-bg-panel);border:1px solid var(--color-border);padding:12px;border-radius:8px;margin-top:12px;box-shadow:var(--shadow-sm)}.perception-title{font-size:12px;font-weight:700;color:var(--color-primary);margin-bottom:8px}.perception-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px}.perception-input{text-align:center;padding:8px;background:var(--color-bg-main);border-radius:6px;border:2px solid var(--color-border)}.perception-input.active{border-color:var(--color-primary);background:#00d4ff1a}.perception-input-label{font-size:9px;color:var(--color-text-secondary);margin-bottom:4px}.perception-input-value{font-size:13px;font-weight:700;color:var(--color-text-primary)}.perception-input-bar{height:4px;background:var(--color-border);border-radius:2px;margin-top:4px;overflow:hidden}.perception-input-bar-fill{height:100%;background:var(--color-primary)}.state-display{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}.state-item{background:var(--color-bg-panel);padding:10px;border-radius:8px;border:2px solid var(--color-border)}.state-item.active{border-color:var(--color-primary);box-shadow:0 0 8px #00d4ff4d}.state-label{font-size:11px;color:var(--color-text-secondary);font-weight:700;margin-bottom:6px;display:flex;align-items:center;gap:6px}.state-icon{font-size:16px}.state-bar{height:100%;background:linear-gradient(90deg,var(--color-primary),#00a8cc);border-radius:4px}.state-value{font-size:13px;font-weight:700;color:var(--color-primary);margin-top:4px;text-align:center}.state-center-line{position:absolute;left:50%;top:0;bottom:0;width:2px;background:var(--color-text-secondary);opacity:.3}.state-indicator{display:block;position:absolute;top:0;left:0;width:4px;height:100%;background:#4caf50;box-shadow:0 0 4px #4caf5080}.state-indicator.warning{background:#ff9800;box-shadow:0 0 4px #ff980080}.state-indicator.danger{background:#f44336;box-shadow:0 0 4px #f4433680}.input-importance{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-top:12px}.importance-bar{height:60px;background:var(--color-bg-main);border-radius:6px;position:relative;overflow:hidden;border:2px solid var(--color-border)}.importance-fill{position:absolute;bottom:0;left:0;right:0;background:linear-gradient(to top,var(--color-success),#00d084);transform-origin:bottom}.importance-label{position:absolute;bottom:4px;left:0;right:0;text-align:center;font-size:10px;font-weight:700;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:1}@media (max-width: 900px){.training-stats,.metrics{grid-template-columns:repeat(2,1fr)}.perception-grid{grid-template-columns:repeat(2,1fr)!important}.settings{grid-template-columns:1fr}}.heatmap-controls{display:flex;flex-direction:column;gap:12px;margin-bottom:12px;padding:12px;background:var(--color-bg-panel);border-radius:6px;border:1px solid var(--color-border)}.heatmap-control-row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}.heatmap-control-group{display:flex;align-items:center;gap:6px}.heatmap-control-group label{font-size:12px;font-weight:600;color:var(--color-text-primary);white-space:nowrap}.heatmap-control-group select{padding:6px 8px;border:1px solid var(--color-border);border-radius:4px;background:var(--color-bg-main);color:var(--color-text-primary);font-size:12px;cursor:pointer;min-width:120px}.heatmap-control-group input[type=range]{cursor:pointer}#heatmap-refresh-btn{padding:8px 16px;font-size:12px;white-space:nowrap;background:var(--color-primary);color:var(--color-bg-main);border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}#heatmap-refresh-btn:hover{background:linear-gradient(135deg,var(--color-primary),#00a8cc);transform:translateY(-2px)}#update-interval-value{font-weight:700;color:var(--color-primary)}@media (max-width: 800px){.heatmap-control-row{flex-direction:column;align-items:flex-start}.heatmap-control-group select,.heatmap-control-group input[type=range]{width:100%}}@media (max-width: 600px){.controls{flex-direction:column}.perception-input-label{font-size:10px}.perception-input-value{font-size:12px}}.network-connection{transition:stroke-opacity .2s ease,stroke-width .2s ease;cursor:pointer}.network-connection:hover{stroke-opacity:.6!important;stroke-width:2!important;filter:drop-shadow(0 0 3px rgba(102,126,234,.5))}.network-node{transition:fill-opacity .2s ease,r .2s ease,filter .2s ease;cursor:pointer}.network-node:hover{fill-opacity:1!important;filter:drop-shadow(0 0 4px rgba(0,0,0,.4))}.network-node-input{filter:drop-shadow(0 0 2px rgba(227,242,253,.5))}.network-node-hidden{filter:drop-shadow(0 0 2px rgba(243,229,245,.5))}.network-node-actor{filter:drop-shadow(0 0 2px rgba(76,175,80,.3))}.network-node-critic{filter:drop-shadow(0 0 2px rgba(33,150,243,.3))}.network-label{transition:font-size .2s ease,fill .2s ease;cursor:pointer;-webkit-user-select:none;user-select:none}.network-label:hover{font-size:13px;filter:drop-shadow(0 0 3px rgba(0,0,0,.3))}.network-tooltip{pointer-events:none}.network-tooltip rect{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.network-tooltip text{font-weight:700}@keyframes pulse{0%{fill-opacity:.3}50%{fill-opacity:.9}to{fill-opacity:.3}}@keyframes flow-animation{0%{stroke-opacity:.1}50%{stroke-opacity:.5}to{stroke-opacity:.1}}.network-node.active{animation:pulse .8s ease-in-out}.network-connection.active{animation:flow-animation .6s ease-in-out}.network-node.high-activation{stroke-width:3!important}.network-node.medium-activation{stroke-width:2.5!important}.network-node.low-activation{stroke-width:2!important}#layer-zones rect:hover{opacity:.5!important;transition:opacity .2s ease}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.panel{animation:fadeInUp .6s ease-out backwards}.panel:nth-child(1){animation-delay:.05s}.panel:nth-child(2){animation-delay:.1s}.panel:nth-child(3){animation-delay:.15s}.panel:nth-child(4){animation-delay:.2s}.panel:nth-child(5){animation-delay:.25s}.panel:nth-child(6){animation-delay:.3s}@keyframes pulse{0%,to{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.8}}.metric-value.changed{animation:pulse .4s cubic-bezier(.4,0,.6,1)}@keyframes victoryPulse{0%{transform:scale(1);box-shadow:0 0 #6bc77fb3}50%{transform:scale(1.02)}to{transform:scale(1);box-shadow:0 0 0 20px #6bc77f00}}.victory-animation{animation:victoryPulse 1s ease-out}@keyframes connectionFlow{0%{stroke-dashoffset:20}to{stroke-dashoffset:0}}.connection.active{stroke-dasharray:5 5;animation:connectionFlow .8s linear infinite}button:hover{transform:translateY(-2px);box-shadow:0 4px 8px #0003}.feature-btn{transition:all .2s ease}.feature-btn:hover{background:#f5f5f5;border-color:#667eea;color:#667eea;transform:translateY(-1px);box-shadow:0 2px 4px #0000001a}.feature-btn:active{transform:translateY(0);box-shadow:0 1px 2px #0000000d}.action-bar-fill{transition:transform .1s cubic-bezier(.34,1.56,.64,1)}.state-bar-fill{transition:left .1s cubic-bezier(.34,1.56,.64,1),width .1s cubic-bezier(.34,1.56,.64,1)}.state-bar{transition:width .1s ease}.state-indicator{transition:left .1s ease}.perception-input{transition:all .2s}.perception-input-bar-fill{transition:width .1s ease}.importance-fill{transition:transform .2s cubic-bezier(.34,1.56,.64,1)}
